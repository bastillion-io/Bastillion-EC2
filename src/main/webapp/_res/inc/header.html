<!--/**
 *    Copyright (C) 2013 Loophole, LLC
 *
 *    Licensed under The Prosperity Public License 3.0.0
 */-->
<head xmlns:th="http://www.thymeleaf.org" th:remove="tag">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <link rel="icon" th:href="@{/img/bastillion.ico}" type="image/x-icon"/>
    <link rel="stylesheet" type="text/css" th:href="@{/_res/node/css/jquery-ui/all.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/_res/node/css/xterm.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/_res/node/css/bootstrap.min.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/_res/node/css/bootstrap-grid.min.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/_res/node/css/bootstrap-reboot.min.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/_res/node/css/bootstrap-utilities.min.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/_res/css/bastillion.css}"/>

    <script th:src="@{/_res/node/js/jquery.min.js}"></script>
    <script th:src="@{/_res/node/js/jquery-ui/version.js}"></script>
    <script th:src="@{/_res/node/js/jquery-ui/widget.js}"></script>
    <script th:src="@{/_res/node/js/jquery-ui/position.js}"></script>
    <script th:src="@{/_res/node/js/jquery-ui/data.js}"></script>
    <script th:src="@{/_res/node/js/jquery-ui/disable-selection.js}"></script>
    <script th:src="@{/_res/node/js/jquery-ui/focusable.js}"></script>
    <script th:src="@{/_res/node/js/jquery-ui/form.js}"></script>
    <script th:src="@{/_res/node/js/jquery-ui/form-reset-mixin.js}"></script>
    <script th:src="@{/_res/node/js/jquery-ui/ie.js}"></script>
    <script th:src="@{/_res/node/js/jquery-ui/keycode.js}"></script>
    <script th:src="@{/_res/node/js/jquery-ui/labels.js}"></script>
    <script th:src="@{/_res/node/js/jquery-ui/plugin.js}"></script>
    <script th:src="@{/_res/node/js/jquery-ui/safe-active-element.js}"></script>
    <script th:src="@{/_res/node/js/jquery-ui/safe-blur.js}"></script>
    <script th:src="@{/_res/node/js/jquery-ui/scroll-parent.js}"></script>
    <script th:src="@{/_res/node/js/jquery-ui/tabbable.js}"></script>
    <script th:src="@{/_res/node/js/jquery-ui/unique-id.js}"></script>

    <script th:src="@{/_res/node/js/jquery-ui/widgets/mouse.js}"></script>
    <script th:src="@{/_res/node/js/jquery-ui/widgets/draggable.js}"></script>
    <script th:src="@{/_res/node/js/jquery-ui/widgets/droppable.js}"></script>
    <script th:src="@{/_res/node/js/jquery-ui/widgets/resizable.js}"></script>
    <script th:src="@{/_res/node/js/jquery-ui/widgets/selectable.js}"></script>
    <script th:src="@{/_res/node/js/jquery-ui/widgets/sortable.js}"></script>
    <script th:src="@{/_res/node/js/jquery.floatThead.min.js}"></script>
    <script th:src="@{/_res/node/js/popper.min.js}"></script>
    <script th:src="@{/_res/node/js/xterm.js}"></script>
    <script th:src="@{/_res/node/js/xterm-addon-fit.js}"></script>
    <script th:src="@{/_res/node/js/bootstrap.min.js}"></script>



    <script th:inline="javascript">
        /*<![CDATA[*/
        $(document).ready(function () {

            $.ajaxSetup({cache: false});

            $(function () {
                var tabindex = 1;
                $('input,textarea,select,.btn').each(function () {
                    if (this.type !== "hidden") {
                        var $input = $(this);
                        $input.attr("tabindex", tabindex);
                        tabindex++;
                    }
                });

                $(".btn").keyup(function (event) {
                    if (event.keyCode === 13) {
                        $(this).click();
                    }
                });

                $("form input, form select, .btn").keydown(function (event) {
                    if (event.keyCode === 13) {
                        event.preventDefault();
                        $(this).closest("form").submit();
                    }
                });
            });

            var scrollWrapper = $('.scrollWrapper');
            if (scrollWrapper.height() >= 450) {
                scrollWrapper.addClass('scrollWrapperActive');
                $('.scrollableTable').floatThead({
                    scrollContainer: function ($table) {
                        return $table.closest(".scrollWrapper");
                    }
                });
            }

            $(".scrollableTable tr:even").css("background-color", "#e0e0e0");

            $(':input:enabled:visible:first').focus();

            $('.modal').on('shown.bs.modal', function () {
                $('input:enabled:visible:first').focus();
            });

            //disable double-click on btns
            $("form").submit(function () {
                $('.btn').attr('disabled', 'disabled');
                return true;
            }).attr("accept-charset", "utf-8");

            $(".submit_btn").button().click(function() {
                $(this).closest('form').submit();
            });
        });

        //break if loaded in frame
        [# th:if="${isFrame == null || !isFrame}"]
            if (top !== self) top.location.replace(self.location.href);
        [/]
        /*]]>*/
    </script>

</head>
